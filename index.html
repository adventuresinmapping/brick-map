<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">

    <title>LEGOIFER</title>

    <!-- Bootstrap core CSS -->
    <link href="./style/bootstrap.min.css" rel="stylesheet">

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="./style/ie10-viewport-bug-workaround.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <!--<link href="starter-template.css" rel="stylesheet">-->

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <script src="./js/ie-emulation-modes-warning.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.0/css/font-awesome.min.css" rel="stylesheet">

    <link rel="stylesheet" href="https://js.arcgis.com/3.16/esri/css/esri.css">
    <link rel="stylesheet" href="./style/main.css">
    <style></style>

    <script type="text/javascript">

        // console.log(window.width);
    
        // if (window.width <= 699) {
        //     document.location = "mobile.html";
        // }
    
    </script>

    <script>
        var locationPath = location.origin + location.pathname.replace(/\/[^/]+$/, '');
        var dojoConfig = {
            parseOnLoad: true,
            packages: [
                {
                    "name": "app_modules",
                    "location": locationPath + '/js/modules'
                },
                {
                    "name": "configs",
                    "location": locationPath + '/js/configs'
                },                
            ]
        };
    </script>     
</head>

<body>
    <div class="stud-top-line"></div>
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <i class="navbar-brand">LEGO-IFIER</i>
        </div>
      </div>

        <div id="nav-icons">
            <div class="twitter-popup"><span class="fa fa-twitter fa-1x"></span></div>
            <div class="facebook-popup"><span class="fa fa-facebook fa-1x"></span></div>
        </div>
    </nav>

    <div class="container container-table">

        <div class="row vertical-center-row">
            <div class="text-center col-md-5 map-wrapper">
                <!--<div class="background-wrapper"></div>-->
                <div class="top-wrapper" id="mapDiv">
                    <div class="map-cover"></div>
                </div>
                <div class="attribute-wrapper">
                    <span>Basemaps powered by <a target="_blank" href="https://www.arcgis.com/home/item.html?id=10df2279f9684e4a9f6a7f08febac2a9">Esri World Imagery</a> Map Tiles.</span>
                </div>
                <div class="bottom-wrapper">

                    <div class="buttons-wrapper change-map-size-icon-wrapper">
                        <div id="sqrMapBtn" class="icon change-map-size-icon active"></div>
                        <div id="hRectMapBtn" class="icon change-map-size-icon"></div>
                        <div id="vRectMapBtn" class="icon change-map-size-icon"></div>
                    </div>

                    <div class="divider">
                        <div></div>
                    </div>

                    <div class="buttons-wrapper">
                        <div class="toggle-basemap-btn btn-with-underline"><i>Map</i></div>
                        <div class="toggle-basemap-btn btn-with-underline active"><i>Satellite</i></div>
                    </div>
                </div>
            </div>

            <div class="text-center col-md-2 convert-btn-wrapper">
                <div class="convert-btn">
                    <i>LEGO-IFY it!</i>
                </div>
            </div>

            <div class="text-center col-md-5 map-wrapper">
                <!--<div class="background-wrapper"></div>-->
                <div class="top-wrapper">
                    <div id="canvasDiv"></div>
                    <!--<img id="canvasDivImg" width="100%" height="100%"/>-->
                </div>
                <div class="bottom-wrapper">
                    <div class="buttons-wrapper canvas-buttons right">
                        <div class="icon download-canvas-image"><span class="fa fa-download fa-1x"></span></div>
                        <div class="icon twitter-popup"><span class="fa fa-twitter fa-1x"></span></div>
                    </div>
                </div>
            </div>
        </div>

    </div><!-- /.container -->

    <div class="footer">
        <i>LEGO-IFIER is a for-fun map hack by <a href="https://twitter.com/John_M_Nelson" target="_blank">John Nelson</a> and <a href="http://tofuballs.com/" target="_blank">Vanni Zhang</a></i>
    </div>
    <img id="legoIcon" src="./images/legostud.png" width="31" height="31"/>
  
    <script src="//code.jquery.com/jquery-1.12.0.min.js"></script>
    <script src="./js/resizeMapDom.js"></script>
    <script src="./js/bootstrap.min.js"></script>
    <script src="./js/ie10-viewport-bug-workaround.js"></script>
    <script src="./js/html2canvas.js"></script>
    <script src="./js/photomosaic.js"></script>
    <script src="./js/caman.min.js"></script>
    <script src="https://js.arcgis.com/3.16/"></script>
    <script src="./js/main.js"></script>

    <script>
        window.fbAsyncInit = function() {
            FB.init({
            appId      : '779139882240617',
            xfbml      : true,
            version    : 'v2.8'
            });
            FB.AppEvents.logPageView();
        };

        (function(d, s, id){
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) {return;}
            js = d.createElement(s); js.id = id;
            js.src = "//connect.facebook.net/en_US/sdk.js";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));
    </script>

    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-93185047-1', 'auto');
        ga('send', 'pageview');

    </script>
        
</body>
</html>